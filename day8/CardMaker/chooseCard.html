<!DOCTYPE html>
<head>
    <title>Card Generator</title>
    <style>
        img{
            height: 150px;
            width: 150px;
        }
        table,textarea ,input{
            margin-left: auto;
            margin-right: auto;
        }
        h1,h2,td{
            text-align: center;
        }
        h1,h2{
            color:cadetblue;
        }
    </style>
</head>
<body style="background-color:  bisque">
    <h1 style="">Generate a get well soon card</h1>
    <div>
        <table>
            <tr>
                <td>
                    <label>
                        <img src="./gws.jpg">
                        <br>
                        <input type="radio" name="image" value="./gws.jpg" checked>
                    </label>
                </td>
                <td>
                    <label>
                        <img src="./gws2.jpg">
                        <br>
                        <input type="radio" name="image" value="./gws2.jpg">
                    </label>
                </td>
                <td>
                    <label>
                        <img src="./gws3.jpg">
                        <br>
                        <input type="radio" name="image" value="./gws3.jpg">
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    <label>
                        <img src="./gwsf.jpg">
                        <br>
                        <input type="radio" name="image" value="./gwsf.jpg">
                    </label>
                </td>
                <td>
                    <label>
                        <img src="./gwsf2.jpg">
                        <br>
                        <input type="radio" name="image" value="./gwsf2.jpg">
                    </label>
                </td>
                <td>
                    <label>
                        <img src="./gwsf3.jpg">
                        <br>
                        <input type="radio" name="image" value="./gwsf3.jpg">
                    </label>
                </td>
            </tr>
            
            
        </table>
        <h2>Personal Message</h2>
        <textarea id="msg" style="display: block;" rows="7" cols="70"></textarea>
        <br>
        <input style="display: block;" type="button" value="generate" onclick="openWindow()">
        
    </div>
    <!-- <script src="./cardGenerator.js"></script> -->
    <script>
        var chW;
        function openWindow()
        {
            setCookie('src' , document.querySelector('input[name="image"]:checked').previousElementSibling.previousElementSibling.src);
            setCookie('msg' , document.getElementById('msg').value);
            chW = window.open("", '', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');
            createCard(chW);
        }
        var imgTag;var src;
        function createCard(chW)
        {
            chW.document.documentElement.lastChild.remove();
            var body = chW.document.createElement("body");
            
            chW.document.documentElement.appendChild(body);
            //pic
             src = getCookie('src');
            //alert(src);
            imgTag = chW.document.createElement("img");
            imgTag.src = src;
            imgTag.style.height = '450px';
            imgTag.style.width = '450px';
            body.appendChild(imgTag);
            //msg
            var pTag = chW.document.createElement("p");
            var msg = getCookie('msg');
            pTag.innerText = msg;
            pTag.style.textAlign = 'center';
            pTag.style.color = 'cadetblue';
            pTag.style.fontWeight = 'bold';
            body.appendChild(pTag);
            
            //button
            var btn = document.createElement("input");
            btn.type="button";
            btn.value = "Close Preview";
            btn.style.display="block";
            btn.style.margin="auto";
            btn.setAttribute('onclick' , 'window.close()');
            body.appendChild(btn);
        }
    </script>
    <script src="./cookiesFunctions.js"></script>
</body>
</html>